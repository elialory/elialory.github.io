      const data = [
        {
          "title": "Katara",
          "nick": "My mother used to be on a bodypillow...",
          "description": "Gentle yet passionate, Katara uses waterbending for sensual experience. Her caring nature makes you feel desired.",
          "square_image": "Artworks/Katara/square.jpg",
          "vertical_image": "Artworks/Katara/vertical.jpg",
          "color": "water",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Toph Beifong",
          "nick": "She bends: Earth, Metal, You.",
          "description": "Feisty and bold, Toph takes charge in bed. Her earthbending creates unique sensations, making you feel good.",
          "square_image": "Artworks/Toph/square.jpg",
          "vertical_image": "Artworks/Toph/vertical.jpg",
          "color": "earth",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Azula",
          "nick": "Never stick it in crazy.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Azula/square.jpg",
          "vertical_image": "Artworks/Azula/vertical.jpg",
          "color": "fire",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "June",
          "nick": "Goth mommy with whip.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/June/square.jpg",
          "vertical_image": "Artworks/June/vertical.jpg",
          "color": "earth",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Suki",
          "nick": "No really. How is Sokka doing it?",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Suki/square.jpg",
          "vertical_image": "Artworks/Suki/vertical.jpg",
          "color": "earth",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Princess Yue",
          "nick": "That's rough buddy",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Yue/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Aang"
        },
        {
          "title": "Mai",
          "nick": "...",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Mai/square.jpg",
          "vertical_image": "Artworks/Mai/vertical.jpg",
          "color": "fire",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Ty Lee",
          "nick": "Best Girl.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/TyLee/square.jpg",
          "vertical_image": "Artworks/TyLee/vertical.jpg",
          "color": "air",
          "stato": 1,
          "category": "Aang"
        },
        {
          "title": "Kya",
          "nick": "Southern Tribe's Milf.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Kya/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Aang"
        },
        {
          "title": "Ursa",
          "nick": "Too good for Ozai.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Ursa/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "fire",
          "stato": 2,
          "category": "Aang"
        },
        {
          "title": "Jo Dee",
          "nick": "There is no Rule34.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/JoDee/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Aang"
        },
        {
          "title": "Jin",
          "nick": "REAL Best Girl",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Jin/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Aang"
        },
        {
          "title": "Korra",
          "nick": "One of the top ten Tomboys ever made.",
          "description": "Powerful and Passionate, Korra uses bending for an intense experience. Dominant yet craves tenderness. A wild ride of pleasure.",
          "square_image": "Artworks/Korra/square.jpg",
          "vertical_image": "Artworks/Korra/vertical.jpg",
          "color": "water",
          "stato": 1,
          "category": "Korra",
        },
        {
          "title": "Opal Beifong",
          "nick": "Look... don't treat her bad. She's a good girl.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Opal/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Pema",
          "nick": "4 kids. Still sexy. Best Milf.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Pema/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "air",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Lin Beifong",
          "nick": "Police Officer Roleplay.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Lin/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Suyin Beifong",
          "nick": "I don't really know what to write here.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Suyin/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Kya II",
          "nick": "Southern Tribe's Gilf.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Kya2/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Eska",
          "nick": "NOT DESKA!",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Eska/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Ming Wa",
          "nick": "I don't want to fix her. I want her to ruin me.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/MingWa/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "P'Li",
          "nick": "Zaheer has good taste.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Pli/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "fire",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Zhu Li Moon",
          "nick": "She did a thing for you.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/ZhuLi/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "water",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Kuvira",
          "nick": "VVhen she vvas there the trains arrived on time.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Kuvira/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "earth",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Asami Sato",
          "nick": "Korra's owner.",
          "description": "A dominant firebender, Azula demands submission. Her passion and skill leave you breathless, begging for more.",
          "square_image": "Artworks/Asami/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "fire",
          "stato": 2,
          "category": "Korra"
        },
        {
          "title": "Raava",
          "nick": "I surely shouldn't stick my dick there... however-",
          "description": "hah ah got it? No... Caus- nevermind",
          "square_image": "Artworks/Raava/square.jpg",
          "vertical_image": "Artworks/PlaceHolder/vertical.jpg",
          "color": "air",
          "stato": 2,
          "category": "Korra",
        }
      ];

      const elementColors = {
        water: "#294364",
        fire: "#930706",
        air: "#FFA500",
        earth: "#005A00"
      };

      let sortOrder = "asc"; // asc | desc

      const container = document.getElementById('artworks-container');

      function renderArtworks(filterCategory = "All") {

        container.innerHTML = ""; // svuota prima di ridisegnare

        let visibleIndex = 0; // per alternanza layout

let artworksToRender = [...data];

artworksToRender.sort((a, b) => {
  // 1️⃣ stato sempre prioritario
  if (a.stato !== b.stato) {
    return a.stato - b.stato;
  }

  // 2️⃣ titolo con direzione variabile
  const titleCompare = a.title.localeCompare(b.title);
  return sortOrder === "asc" ? titleCompare : -titleCompare;
});

artworksToRender.forEach((artwork) => {

          if (filterCategory !== "All" && artwork.category !== filterCategory) return;

          const rowClass = visibleIndex % 2 === 0 ? 'row' : 'row reverse';
          //Test ->
          const isReversed = visibleIndex % 2 !== 0;
          const revealClass = isReversed ? 'reveal right' : 'reveal left';
          //Test <-

          const section = document.createElement('section');

          const baseColor = elementColors[artwork.color] || "#ffffff";
          section.style.background = `
          linear-gradient(rgba(255,255,255,0.2), rgba(0,0,0,0.1)),
          ${baseColor}
        `;

          section.className = `${rowClass} ${revealClass}`;
          //section.className = rowClass;
          section.innerHTML = `
          <div class="image-large">
            <img src="${artwork.vertical_image}" alt="${artwork.title}">
          </div>
          <div class="info-wrapper">
            <div class="info">
              <p class="label">${artwork.title}</p>
              <p class="epitet">${artwork.nick}</p>
            </div>
          </div>
        `;


          // <p class="text">${artwork.description}</p>

          container.appendChild(section);

          //const infoWrapper = section.querySelector('.info-wrapper');
          //infoWrapper.style.setProperty('--bg-img', `url(${artwork.square_image})`);

          section.style.setProperty("--bg-img", `url(${artwork.square_image})`);

          // animazione con delay leggero per ogni riga
          setTimeout(() => {
            section.classList.add('visible');
          }, visibleIndex * 100); // 100ms tra le righe
          visibleIndex++;

          section.classList.add("active");
        });

        attachLightboxListeners();
      }

      // Seleziona tutti
      document.querySelectorAll('.filter-buttons button').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.filter-buttons button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const category = btn.getAttribute('data-category');
          renderArtworks(category);
        });
      });

      ////////////////////////////////////////////////////////////////////////////////////////////////////
      // Lightbox
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxClose = document.getElementById('lightbox-close');

      // Funzione per aprire lightbox
      function openLightbox(src, alt) {
        lightboxImg.src = src;
        lightboxImg.alt = alt;
        lightbox.style.display = 'flex';
      }

      // Funzione per chiudere
      function closeLightbox() {
        lightbox.style.display = 'none';
        lightboxImg.src = '';
      }

      // Ascolta click sul close
      lightboxClose.addEventListener('click', closeLightbox);

      // Chiude cliccando sullo sfondo
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      // Aggiungi listener alle immagini verticali dopo il render
      function attachLightboxListeners() {
        document.querySelectorAll('.image-large img').forEach(img => {
          img.style.cursor = 'pointer'; // indica che si può cliccare
          img.addEventListener('click', () => {
            openLightbox(img.src, img.alt);
          });
        });
      }

      // Dopo ogni renderArtworks(), chiama attachLightboxListeners()
      renderArtworks(); // iniziale
      attachLightboxListeners();

      // Aggiorna listeners quando si filtra
      document.querySelectorAll('.filter-buttons button').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.filter-buttons button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const category = btn.getAttribute('data-category');
          renderArtworks(category);
	    
	    const sortBtn = document.getElementById("sort-toggle");

          sortBtn.addEventListener("click", () => {
          sortOrder = sortOrder === "asc" ? "desc" : "asc";
          sortBtn.textContent = sortOrder === "asc" ? "A–Z" : "Z–A";

          const activeFilter = document.querySelector('.filter-buttons button.active');
          const category = activeFilter ? activeFilter.dataset.category : "All";

          renderArtworks(category);
         });        


		  
          attachLightboxListeners(); // aggiorna listener per le nuove immagini filtrate
        });
      });
      ////////////////////////////////////////////////////////////////////////////////////////////////////

      /*data.sort((a, b) => {
        // Prima confronto numerico per 'stato'
        if (a.stato !== b.stato) {
          return a.stato - b.stato; // 1 prima di 2
        }
        // Poi confronto alfabetico per 'title'
        return a.title.localeCompare(b.title);
      });*/

      // Loader
document.addEventListener("DOMContentLoaded", () => {
  const loader = document.getElementById("loader");

  if (!loader) return;

  // mostra il loader per 1.5 secondi
  setTimeout(() => {
    loader.classList.add("hidden");

    // dopo il fade-out lo rimuoviamo
    setTimeout(() => {
      loader.remove();
    }, 800);

  }, 1500);
});

      // Inizializzazione
     // renderArtworks();
